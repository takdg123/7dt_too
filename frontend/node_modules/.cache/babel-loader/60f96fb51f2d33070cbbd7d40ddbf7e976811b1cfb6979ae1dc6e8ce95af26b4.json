{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import'../styles/TargetForm.css';import{Autocomplete,TextField,Button,RadioGroup,FormControlLabel,Radio,MenuItem,Select,Checkbox}from'@mui/material';import{Chart as ChartJS,LinearScale,Title,Tooltip,ScatterController}from'chart.js';import SpecMode from'./SpecMode';import DeepMode from'./DeepMode';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(LinearScale,Title,Tooltip,ScatterController);function TargetForm(){const[targets,setTargets]=useState([]);const[target,setTarget]=useState('');const[ra,setRa]=useState('');const[dec,setDec]=useState('');const[exposure,setExposure]=useState('');const[mode,setMode]=useState('Spec');const[comments,setComments]=useState('');const[specFileOptions,setSpecFileOptions]=useState(['specall.specmode']);const[selectedSpecFile,setSelectedSpecFile]=useState('specall.specmode');const[message,setMessage]=useState('');const[isCustomTarget,setIsCustomTarget]=useState(true);const[specFileData,setSpecFileData]=useState({});const[wavelengths,setWavelengths]=useState([]);const[filters,setFilters]=useState([]);const[isCollapsed,setIsCollapsed]=useState(false);// Collapse state for mode options\nconst chartRef=useRef(null);const[selectedFilters,setSelectedFilters]=useState(['g']);// For checkboxes\nconst[selectedNumber,setSelectedNumber]=useState(10);// For dropdown\nuseEffect(()=>{axios.get('http://127.0.0.1:5000/api/targets').then(response=>setTargets(response.data)).catch(error=>console.error('Error fetching targets:',error));},[]);useEffect(()=>{if(mode==='Spec'){axios.get('http://127.0.0.1:5000/api/spec-options').then(response=>setSpecFileOptions(response.data)).catch(error=>console.error('Error fetching spec file options:',error));}},[mode]);useEffect(()=>{if(selectedSpecFile){axios.get(`http://127.0.0.1:5000/api/spec-file?file=${selectedSpecFile}`).then(response=>{setWavelengths(response.data.wavelengths);setFilters(response.data.filters);}).catch(error=>console.error('Error fetching spec file data:',error));}},[selectedSpecFile]);useEffect(()=>{if(!chartRef.current)return;const ctx=chartRef.current.getContext('2d');let wavelengthChart=ChartJS.getChart(ctx);if(!wavelengthChart){wavelengthChart=new ChartJS(ctx,{type:'scatter',data:{labels:[''],datasets:[]},options:{responsive:true,maintainAspectRatio:false,scales:{x:{type:'linear',min:3500,max:9500,title:{display:false}},y:{display:false}},plugins:{legend:{display:false}}},plugins:[{id:'customSpans',beforeDraw:chart=>{const ctx=chart.ctx;const xScale=chart.scales.x;wavelengths.forEach(wav=>{const xMin=xScale.getPixelForValue((wav-12.5)*10);const xMax=xScale.getPixelForValue((wav+12.5)*10);ctx.fillStyle='green';ctx.fillRect(xMin,chart.chartArea.top,xMax-xMin,chart.chartArea.bottom-chart.chartArea.top);});}}]});}else{wavelengthChart.data.datasets=[];wavelengthChart.update();}return()=>{var _wavelengthChart;return(_wavelengthChart=wavelengthChart)===null||_wavelengthChart===void 0?void 0:_wavelengthChart.destroy();};},[wavelengths,mode,isCollapsed]);const handleInputChange=(event,value)=>{setTarget(value);const selectedTarget=targets.find(t=>t.name===value);if(selectedTarget){setRa(selectedTarget.ra);setDec(selectedTarget.dec);setIsCustomTarget(false);}else{setRa('');setDec('');setIsCustomTarget(true);}};const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post('http://127.0.0.1:5000/api/send_email',{target,ra,dec,exposure,mode});setMessage(response.data.message);}catch(error){console.error('Error sending email:',error);setMessage('Failed to submit form.');}};const handleCheckboxChange=filter=>{setSelectedFilters(prev=>prev.includes(filter)?prev.filter(item=>item!==filter)// Remove filter if unchecked\n:[...prev,filter]// Add filter if checked\n);};const toggleCollapse=()=>{setIsCollapsed(!isCollapsed);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Target:\"}),/*#__PURE__*/_jsx(Autocomplete,{options:targets,getOptionLabel:option=>option.name||'',inputValue:target,onInputChange:handleInputChange,renderInput:params=>/*#__PURE__*/_jsx(TextField,{...params,label:\"Target\",variant:\"outlined\",fullWidth:true,size:\"small\"}),freeSolo:true,className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"R.A.:\"}),/*#__PURE__*/_jsx(TextField,{label:\"hh:mm:ss or degrees\",variant:\"outlined\",value:ra,onChange:e=>setRa(e.target.value),fullWidth:true,disabled:!isCustomTarget,className:\"input-field\",size:\"small\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Dec.:\"}),/*#__PURE__*/_jsx(TextField,{label:\"dd:mm:ss or degrees\",variant:\"outlined\",value:dec,onChange:e=>setDec(e.target.value),fullWidth:true,disabled:!isCustomTarget,className:\"input-field\",size:\"small\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Exposure:\"}),/*#__PURE__*/_jsx(TextField,{label:\"seconds\",variant:\"outlined\",value:exposure,onChange:e=>setExposure(e.target.value),fullWidth:true,className:\"input-field\",size:\"small\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Mode:\"}),/*#__PURE__*/_jsxs(RadioGroup,{row:true,value:mode,onChange:e=>setMode(e.target.value),className:\"radio-group\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"Spec\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Spec\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Deep\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Deep\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",onClick:toggleCollapse,className:\"collapse-button\",children:isCollapsed?'Expand Mode Options':'Collapse Mode Options'})]}),!isCollapsed&&/*#__PURE__*/_jsxs(_Fragment,{children:[mode==='Spec'&&/*#__PURE__*/_jsx(SpecMode,{specFileOptions:specFileOptions,selectedSpecFile:selectedSpecFile,setSelectedSpecFile:setSelectedSpecFile,chartRef:chartRef,filters:filters}),mode==='Deep'&&/*#__PURE__*/_jsx(DeepMode,{selectedFilters:selectedFilters,handleCheckboxChange:handleCheckboxChange,selectedNumber:selectedNumber,setSelectedNumber:setSelectedNumber})]}),/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Comments:\"}),/*#__PURE__*/_jsx(TextField,{label:\"Any additional information\",variant:\"outlined\",value:comments,onChange:e=>setComments(e.target.value),fullWidth:true,className:\"input-field\",size:\"small\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:\"submit-button\",children:\"Submit\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message})]});}export default TargetForm;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Autocomplete","TextField","Button","RadioGroup","FormControlLabel","Radio","MenuItem","Select","Checkbox","Chart","ChartJS","LinearScale","Title","Tooltip","ScatterController","SpecMode","DeepMode","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","TargetForm","targets","setTargets","target","setTarget","ra","setRa","dec","setDec","exposure","setExposure","mode","setMode","comments","setComments","specFileOptions","setSpecFileOptions","selectedSpecFile","setSelectedSpecFile","message","setMessage","isCustomTarget","setIsCustomTarget","specFileData","setSpecFileData","wavelengths","setWavelengths","filters","setFilters","isCollapsed","setIsCollapsed","chartRef","selectedFilters","setSelectedFilters","selectedNumber","setSelectedNumber","get","then","response","data","catch","error","console","current","ctx","getContext","wavelengthChart","getChart","type","labels","datasets","options","responsive","maintainAspectRatio","scales","x","min","max","title","display","y","plugins","legend","id","beforeDraw","chart","xScale","forEach","wav","xMin","getPixelForValue","xMax","fillStyle","fillRect","chartArea","top","bottom","update","_wavelengthChart","destroy","handleInputChange","event","value","selectedTarget","find","t","name","handleSubmit","e","preventDefault","post","handleCheckboxChange","filter","prev","includes","item","toggleCollapse","className","children","onSubmit","getOptionLabel","option","inputValue","onInputChange","renderInput","params","label","variant","fullWidth","size","freeSolo","onChange","disabled","row","control","color","onClick"],"sources":["/Users/dtak/Research/ToO/frontend/src/components/TargetForm.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport '../styles/TargetForm.css';\nimport {\n    Autocomplete,\n    TextField,\n    Button,\n    RadioGroup,\n    FormControlLabel,\n    Radio,\n    MenuItem,\n    Select,\n    Checkbox\n} from '@mui/material';\n\nimport {\n    Chart as ChartJS,\n    LinearScale,\n    Title,\n    Tooltip,\n    ScatterController,\n} from 'chart.js';\n\nimport SpecMode from './SpecMode';\nimport DeepMode from './DeepMode';\n\nChartJS.register(LinearScale, Title, Tooltip, ScatterController);\n\nfunction TargetForm() {\n    const [targets, setTargets] = useState([]);\n    const [target, setTarget] = useState('');\n    const [ra, setRa] = useState('');\n    const [dec, setDec] = useState('');\n    const [exposure, setExposure] = useState('');\n    const [mode, setMode] = useState('Spec'); \n    const [comments, setComments] = useState('');\n    const [specFileOptions, setSpecFileOptions] = useState(['specall.specmode']);\n    const [selectedSpecFile, setSelectedSpecFile] = useState('specall.specmode');\n    const [message, setMessage] = useState('');\n    const [isCustomTarget, setIsCustomTarget] = useState(true);\n    const [specFileData, setSpecFileData] = useState({});\n    const [wavelengths, setWavelengths] = useState([]);\n    const [filters, setFilters] = useState([]);\n    const [isCollapsed, setIsCollapsed] = useState(false); // Collapse state for mode options\n    const chartRef = useRef(null);\n\n    const [selectedFilters, setSelectedFilters] = useState(['g']); // For checkboxes\n    const [selectedNumber, setSelectedNumber] = useState(10); // For dropdown\n\n\n    useEffect(() => {\n        axios\n            .get('http://127.0.0.1:5000/api/targets')\n            .then((response) => setTargets(response.data))\n            .catch((error) => console.error('Error fetching targets:', error));\n    }, []);\n\n    useEffect(() => {\n        if (mode === 'Spec') {\n            axios\n                .get('http://127.0.0.1:5000/api/spec-options')\n                .then((response) => setSpecFileOptions(response.data))\n                .catch((error) => console.error('Error fetching spec file options:', error));\n        }\n    }, [mode]);\n\n    useEffect(() => {\n        if (selectedSpecFile) {\n            axios\n                .get(`http://127.0.0.1:5000/api/spec-file?file=${selectedSpecFile}`)\n                .then((response) => {\n                    setWavelengths(response.data.wavelengths);\n                    setFilters(response.data.filters);\n                })\n                .catch((error) => console.error('Error fetching spec file data:', error));\n        }\n    }, [selectedSpecFile]);\n\n    useEffect(() => {\n        if (!chartRef.current) return;\n\n        const ctx = chartRef.current.getContext('2d');\n        let wavelengthChart = ChartJS.getChart(ctx);\n\n        if (!wavelengthChart) {\n            wavelengthChart = new ChartJS(ctx, {\n                type: 'scatter',\n                data: { labels: [''], datasets: [] },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    scales: {\n                        x: { type: 'linear', min: 3500, max: 9500, title: { display: false } },\n                        y: { display: false },\n                    },\n                    plugins: { legend: { display: false } },\n                },\n                plugins: [\n                    {\n                        id: 'customSpans',\n                        beforeDraw: (chart) => {\n                            const ctx = chart.ctx;\n                            const xScale = chart.scales.x;\n                            wavelengths.forEach((wav) => {\n                                const xMin = xScale.getPixelForValue((wav - 12.5) * 10);\n                                const xMax = xScale.getPixelForValue((wav + 12.5) * 10);\n                                ctx.fillStyle = 'green';\n                                ctx.fillRect(\n                                    xMin,\n                                    chart.chartArea.top,\n                                    xMax - xMin,\n                                    chart.chartArea.bottom - chart.chartArea.top\n                                );\n                            });\n                        },\n                    },\n                ],\n            });\n        } else {\n            wavelengthChart.data.datasets = [];\n            wavelengthChart.update();\n        }\n\n        return () => wavelengthChart?.destroy();\n    }, [wavelengths, mode, isCollapsed]);\n\n    const handleInputChange = (event, value) => {\n        setTarget(value);\n        const selectedTarget = targets.find((t) => t.name === value);\n        if (selectedTarget) {\n            setRa(selectedTarget.ra);\n            setDec(selectedTarget.dec);\n            setIsCustomTarget(false);\n        } else {\n            setRa('');\n            setDec('');\n            setIsCustomTarget(true);\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await axios.post('http://127.0.0.1:5000/api/send_email', {\n                target,\n                ra,\n                dec,\n                exposure,\n                mode,\n            });\n            setMessage(response.data.message);\n        } catch (error) {\n            console.error('Error sending email:', error);\n            setMessage('Failed to submit form.');\n        }\n    };\n\n    const handleCheckboxChange = (filter) => {\n        setSelectedFilters((prev) =>\n            prev.includes(filter)\n                ? prev.filter((item) => item !== filter) // Remove filter if unchecked\n                : [...prev, filter] // Add filter if checked\n        );\n    };\n    \n    const toggleCollapse = () => {\n        setIsCollapsed(!isCollapsed);\n    };\n\n    return (\n        <div className=\"container\">\n            <form onSubmit={handleSubmit} className=\"form\">\n                <div className=\"group-container\">\n                    <label className=\"default-label\">Target:</label>\n                    <Autocomplete\n                        options={targets}\n                        getOptionLabel={(option) => option.name || ''}\n                        inputValue={target}\n                        onInputChange={handleInputChange}\n                        renderInput={(params) => (\n                            <TextField {...params} label=\"Target\" variant=\"outlined\" fullWidth size=\"small\" />\n                        )}\n                        freeSolo\n                        className=\"input-field\"\n                    />\n                </div>\n                <div className=\"group-container\">\n                    <label className=\"default-label\">R.A.:</label>\n                    <TextField\n                        label=\"hh:mm:ss or degrees\"\n                        variant=\"outlined\"\n                        value={ra}\n                        onChange={(e) => setRa(e.target.value)}\n                        fullWidth\n                        disabled={!isCustomTarget} \n                        className=\"input-field\"\n                        size=\"small\"\n                    />\n                </div>\n                <div className=\"group-container\">\n                    <label className=\"default-label\">Dec.:</label>\n                    <TextField\n                        label=\"dd:mm:ss or degrees\"\n                        variant=\"outlined\"\n                        value={dec}\n                        onChange={(e) => setDec(e.target.value)}\n                        fullWidth\n                        disabled={!isCustomTarget} \n                        className=\"input-field\"\n                        size=\"small\"\n                    />\n                </div>\n                <div className=\"group-container\">\n                    <label className=\"default-label\">Exposure:</label>\n                    <TextField\n                        label=\"seconds\"\n                        variant=\"outlined\"\n                        value={exposure}\n                        onChange={(e) => setExposure(e.target.value)}\n                        fullWidth\n                        className=\"input-field\"\n                        size=\"small\"\n                    />\n                </div>\n                <div className=\"group-container\">\n                    <label className=\"default-label\">Mode:</label>\n                    <RadioGroup\n                        row\n                        value={mode}\n                        onChange={(e) => setMode(e.target.value)}\n                        className=\"radio-group\"\n                    >   \n                        <FormControlLabel\n                            value=\"Spec\"\n                            control={<Radio />}\n                            label=\"Spec\"\n                        />\n                        <FormControlLabel\n                            value=\"Deep\"\n                            control={<Radio />}\n                            label=\"Deep\"\n                        />\n                    </RadioGroup>\n                    <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={toggleCollapse}\n                        className=\"collapse-button\"\n                    >\n                        {isCollapsed ? 'Expand Mode Options' : 'Collapse Mode Options'}\n                    </Button>\n                </div>\n\n\n\n                {/* Conditional Rendering of Mode Options */}\n                {!isCollapsed && (\n                    <>\n                    {mode === 'Spec' && (\n                        <SpecMode\n                            specFileOptions={specFileOptions}\n                            selectedSpecFile={selectedSpecFile}\n                            setSelectedSpecFile={setSelectedSpecFile}\n                            chartRef={chartRef}\n                            filters={filters}\n                        />\n                    )}\n                    {mode === 'Deep' && (\n                        <DeepMode\n                            selectedFilters={selectedFilters}\n                            handleCheckboxChange={handleCheckboxChange}\n                            selectedNumber={selectedNumber}\n                            setSelectedNumber={setSelectedNumber}\n                        />\n                    )}\n                    </>\n                )}\n                \n                <label className=\"default-label\">Comments:</label>\n                <TextField\n                        label=\"Any additional information\"\n                        variant=\"outlined\"\n                        value={comments}\n                        onChange={(e) => setComments(e.target.value)}\n                        fullWidth\n                        className=\"input-field\"\n                        size=\"small\"\n                />\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\" className=\"submit-button\">\n                    Submit\n                </Button>\n            </form>\n            {message && <p className=\"message\">{message}</p>}\n        </div>\n    );\n}\n\nexport default TargetForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}