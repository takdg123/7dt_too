{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import'../styles/TargetForm.css';import{Autocomplete,Alert,TextField,Button,RadioGroup,FormControlLabel,Radio,Checkbox,Dialog,DialogTitle,DialogContent,DialogActions,Snackbar,CircularProgress}from'@mui/material';import'chartjs-adapter-date-fns';import{Chart as ChartJS,LinearScale,Title,Tooltip,ScatterController,LineController,LineElement,PointElement,CategoryScale,TimeScale,Legend}from'chart.js';import annotationPlugin from'chartjs-plugin-annotation';import ExpandMoreIcon from'@mui/icons-material/ExpandMore';import ExpandLessIcon from'@mui/icons-material/ExpandLess';import SpecMode from'./SpecMode';import DeepMode from'./DeepMode';import DetailedSettings from'./DetailedSettings';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(LinearScale,Title,Tooltip,ScatterController,LineController,LineElement,PointElement,CategoryScale,TimeScale,Legend,annotationPlugin);function TargetForm(){const[targets,setTargets]=useState([]);const[target,setTarget]=useState('');const[ra,setRa]=useState('');const[dec,setDec]=useState('');const[exposure,setExposure]=useState('300');const[obsmode,setObsmode]=useState('Spec');const[comments,setComments]=useState('');const[abortObservation,setAbortObservation]=useState(false);// Track checkbox state\nconst[wavelengths,setWavelengths]=useState([]);const[filters,setFilters]=useState([]);const[specFileOptions,setSpecFileOptions]=useState(['specall.specmode']);const[selectedSpecFile,setSelectedSpecFile]=useState('specall.specmode');const[selectedFilters,setSelectedFilters]=useState(['g']);// For checkboxes\nconst[selectedTelNumber,setSelectedTelNumber]=useState(10);// For dropdown\nconst[staraltData,setStaraltData]=useState(null);const[isCustomTarget,setIsCustomTarget]=useState(true);const[isCollapsed,setIsCollapsed]=useState(true);// Collapse state for mode options\nconst[isDetailCollapsed,setIsDetailCollapsed]=useState(true);// Collapse state for mode options\nconst[isDialogOpen,setIsDialogOpen]=useState(false);// Dialog state\nconst[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const[successMessage,setSuccessMessage]=useState('');const[detailedSettings,setDetailedSettings]=useState({singleFrameExposure:60,// Default 60 seconds\nimageCount:5,// Default exposure time / 60\npriority:50,// Default 50\ngain:2750,// Default 2750\nbinning:1,// Default 1\nobsStartTime:''// Default empty\n});const chartRef=useRef(null);const staraltChartRef=useRef(null);const staraltChartInstanceRef=useRef(null);useEffect(()=>{axios.get('http://127.0.0.1:5000/api/targets').then(response=>setTargets(response.data)).catch(error=>console.error('Error fetching targets:',error));},[]);useEffect(()=>{if(obsmode==='Spec'){axios.get('http://127.0.0.1:5000/api/spec-options').then(response=>setSpecFileOptions(response.data)).catch(error=>console.error('Error fetching spec file options:',error));}},[obsmode]);useEffect(()=>{if(selectedSpecFile){axios.get(`http://127.0.0.1:5000/api/spec-file?file=${selectedSpecFile}`).then(response=>{setWavelengths(response.data.wavelengths);setFilters(response.data.filters);}).catch(error=>console.error('Error fetching spec file data:',error));}},[selectedSpecFile]);useEffect(()=>{const raNum=parseFloat(ra);const decNum=parseFloat(dec);if(!isNaN(raNum)&&!isNaN(decNum)){const query=`ra=${raNum}&dec=${decNum}&objname=${encodeURIComponent(target)}&target_minalt=30&target_minmoonsep=40`;fetch(`http://127.0.0.1:5000/api/staralt_data?${query}`).then(response=>response.json()).then(data=>{setStaraltData(data);console.log(\"Received staralt data:\",data);}).catch(error=>console.error(\"Error fetching staralt data:\",error));}},[ra,dec,target]);useEffect(()=>{if(!staraltData||!staraltChartRef.current)return;const{objname,target_times,target_alts,moon_times,moon_alts,sun_times,sun_alts,color_target,tonight,target_minalt,target_minmoonsep}=staraltData;// Convert times to Date objects\nconst targetData=target_times.map((t,i)=>({x:new Date(t),y:target_alts[i]}));const moonData=moon_times.map((t,i)=>({x:new Date(t),y:moon_alts[i]}));const sunData=sun_times.map((t,i)=>({x:new Date(t),y:sun_alts[i]}));// Map color codes to CSS colors\nconst mappedColorTarget=color_target.map(c=>{if(c==='r')return'red';if(c==='k')return'black';if(c==='g')return'green';return c;// fallback if needed\n});// Convert night times to Date objects\nconst sunsetNight=new Date(tonight.sunset_night);const sunriseNight=new Date(tonight.sunrise_night);const sunsetCivil=new Date(tonight.sunset_civil);const sunriseCivil=new Date(tonight.sunrise_civil);const targetDataset={label:'Target',data:targetData,pointBackgroundColor:mappedColorTarget,borderColor:'black',showLine:false,pointRadius:2};const moonDataset={label:'Moon',data:moonData,borderColor:'blue',backgroundColor:'blue',showLine:false,pointRadius:1};const sunDataset={label:'Sun',data:sunData,borderColor:'red',backgroundColor:'red',showLine:false,pointRadius:1};const annotations={// Vertical line at night start\nnightStartLine:{type:'line',xMin:sunsetNight.getTime(),xMax:sunsetNight.getTime(),borderColor:'black',borderWidth:1,label:{enabled:true,content:'Night start',position:'start',yAdjust:-20}},// Vertical line at night end\nnightEndLine:{type:'line',xMin:sunriseNight.getTime(),xMax:sunriseNight.getTime(),borderColor:'black',borderWidth:1,label:{enabled:true,content:'Night end',position:'start',yAdjust:-20}},// Shaded nighttime region\nnightBox:{type:'box',xMin:sunsetNight.getTime(),xMax:sunriseNight.getTime(),yMin:0,yMax:90,backgroundColor:'rgba(0,0,0,0.3)',drawTime:'beforeDatasetsDraw'},// Shaded civil twilight region\ncivilBox:{type:'box',xMin:sunsetCivil.getTime(),xMax:sunriseCivil.getTime(),yMin:0,yMax:90,backgroundColor:'rgba(0,0,0,0.1)',drawTime:'beforeDatasetsDraw'},// Fill below minimum altitude line (red zone)\nminAltFill:{type:'box',xMin:sunsetNight.getTime(),xMax:sunriseNight.getTime(),yMin:0,yMax:target_minalt,backgroundColor:'rgba(255,0,0,0.3)',drawTime:'beforeDatasetsDraw',label:{enabled:true,content:'Observation limit',position:'center',yAdjust:-50,font:{weight:'bold',size:12},color:'darkred'}},// Add a text annotation with criteria\ncriteriaText:{type:'label',xValue:new Date(sunsetNight.getTime()-0.7*3600000),// 0.7 hours before night start\nyValue:80,backgroundColor:'rgba(255,255,255,0.7)',borderColor:'black',borderWidth:1,color:'black',font:{size:10,weight:'bold'},textAlign:'left',content:[`Current observation criteria:`,`- Altitude > ${target_minalt} deg`,`- Moon separation > ${target_minmoonsep} deg`]}};// If the chart instance exists, update data and annotations\nif(staraltChartRef.current._chart){const chart=staraltChartRef.current._chart;chart.data.datasets=[sunDataset,moonDataset,targetDataset];chart.options.plugins.title.text=objname?`Altitude of ${objname}`:'Altitude of the Target';chart.options.plugins.annotation.annotations=annotations;chart.update();}else{// Otherwise, create a new chart\nconst ctx=staraltChartRef.current.getContext('2d');const chart=new ChartJS(ctx,{type:'line',data:{datasets:[sunDataset,moonDataset,targetDataset]},options:{responsive:true,maintainAspectRatio:false,// Allow the chart to fill its container\nlayout:{padding:10},scales:{x:{type:'time',time:{unit:'hour'},title:{display:true,text:'Time (UTC)'}},y:{title:{display:true,text:'Altitude [deg]'},min:0,max:90}},plugins:{title:{display:true,text:objname?`Altitude of ${objname}`:'Altitude of the Target'},legend:{display:true,position:'chartArea',labels:{boxWidth:10,boxHeight:10,padding:0}},tooltip:{mode:'nearest',intersect:false},annotation:{annotations:annotations}},interaction:{mode:'nearest',intersect:false}}});staraltChartRef.current._chart=chart;}},[staraltData]);useEffect(()=>{if(!chartRef.current)return;const ctx=chartRef.current.getContext('2d');let wavelengthChart=ChartJS.getChart(ctx);if(!wavelengthChart){wavelengthChart=new ChartJS(ctx,{type:'scatter',data:{labels:[''],datasets:[]},options:{responsive:true,maintainAspectRatio:false,scales:{x:{type:'linear',min:3500,max:9500,title:{display:false}},y:{display:false}},plugins:{legend:{display:false}}},plugins:[{id:'customSpans',beforeDraw:chart=>{const ctx=chart.ctx;const xScale=chart.scales.x;wavelengths.forEach(wav=>{const xMin=xScale.getPixelForValue((wav-12.5)*10);const xMax=xScale.getPixelForValue((wav+12.5)*10);ctx.fillStyle='green';ctx.fillRect(xMin,chart.chartArea.top,xMax-xMin,chart.chartArea.bottom-chart.chartArea.top);});}}]});}else{wavelengthChart.data.datasets=[];wavelengthChart.update();}return()=>{var _wavelengthChart;return(_wavelengthChart=wavelengthChart)===null||_wavelengthChart===void 0?void 0:_wavelengthChart.destroy();};},[wavelengths,obsmode,isCollapsed]);const handleSubmit=async e=>{e.preventDefault();// Validate required fields\nif(!target||!ra||!dec){setError('Target, R.A., and Dec. are required fields.');return;}setIsLoading(true);setError('');try{await axios.post('http://127.0.0.1:5000/api/send_email',{target,ra,dec,exposure,obsmode,comments,abortObservation,...detailedSettings,...(obsmode==='Deep'&&{selectedFilters,selectedTelNumber}),...(obsmode==='Spec'&&{selectedSpecFile})});setSuccessMessage('Email sent successfully!');setError('');setIsDialogOpen(false);// Close dialog on success\n}catch(error){setError('Failed to send the email. Please try again.');}finally{setIsLoading(false);// Stop loading\n}};const handleInputChange=(event,value)=>{setTarget(value);const selectedTarget=targets.find(t=>t.name===value);if(selectedTarget){setRa(selectedTarget.ra);setDec(selectedTarget.dec);setIsCustomTarget(false);}else{setRa('');setDec('');setIsCustomTarget(true);}};const handleExposureChange=newExposure=>{const{imageCount}=detailedSettings;const newSingleFrameExposure=newExposure/imageCount;setDetailedSettings(prev=>({...prev,singleFrameExposure:newSingleFrameExposure}));setExposure(newExposure);};const handleBlur=()=>{// Remove leading zeros unless they are part of a decimal number\nconst trimmedExposure=exposure.replace(/^0+(?=\\d)/,'').replace(/^0*(\\.\\d+)/,'0$1');setExposure(trimmedExposure);};const handleCheckboxChange=filter=>{setSelectedFilters(prev=>prev.includes(filter)?prev.filter(item=>item!==filter)// Remove filter if unchecked\n:[...prev,filter]// Add filter if checked\n);};const toggleCollapse=()=>{setIsCollapsed(!isCollapsed);};const toggleDetailCollapse=()=>{setIsDetailCollapsed(!isDetailCollapsed);};const toggleDialog=()=>{setIsDialogOpen(!isDialogOpen);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Target:\"}),/*#__PURE__*/_jsx(Autocomplete,{options:targets,getOptionLabel:option=>option.name||'',inputValue:target,onInputChange:handleInputChange,renderInput:params=>/*#__PURE__*/_jsx(TextField,{...params,label:\"Target\",variant:\"outlined\",fullWidth:true,size:\"small\"}),freeSolo:true,className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"R.A.:\"}),/*#__PURE__*/_jsx(TextField,{label:\"hh:mm:ss or degrees\",variant:\"outlined\",value:ra,onChange:e=>setRa(e.target.value),fullWidth:true,disabled:!isCustomTarget,className:\"input-field\",size:\"small\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Dec.:\"}),/*#__PURE__*/_jsx(TextField,{label:\"dd:mm:ss or degrees\",variant:\"outlined\",value:dec,onChange:e=>setDec(e.target.value),fullWidth:true,disabled:!isCustomTarget,className:\"input-field\",size:\"small\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Exposure:\"}),/*#__PURE__*/_jsx(TextField,{label:\"seconds\",variant:\"outlined\",value:exposure,onChange:e=>handleExposureChange(e.target.value||0),fullWidth:true,className:\"input-field\",size:\"small\",type:\"number\",onBlur:handleBlur,inputProps:{step:0.1}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-container\",style:{justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"ObsMode:\"}),/*#__PURE__*/_jsxs(RadioGroup,{row:true,value:obsmode,onChange:e=>setObsmode(e.target.value),className:\"radio-group\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"Spec\",control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsx(\"span\",{className:\"bold-label\",children:\"Spec\"})}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Deep\",control:/*#__PURE__*/_jsx(Radio,{}),label:/*#__PURE__*/_jsx(\"span\",{className:\"bold-label\",children:\"Deep\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse-toggle\",onClick:toggleCollapse,children:[isCollapsed?/*#__PURE__*/_jsx(ExpandMoreIcon,{}):/*#__PURE__*/_jsx(ExpandLessIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"collapse-text\",children:isCollapsed?'Expand':'Collapse'})]})]}),!isCollapsed&&/*#__PURE__*/_jsxs(_Fragment,{children:[obsmode==='Spec'&&/*#__PURE__*/_jsx(SpecMode,{specFileOptions:specFileOptions,selectedSpecFile:selectedSpecFile,setSelectedSpecFile:setSelectedSpecFile,chartRef:chartRef,filters:filters}),obsmode==='Deep'&&/*#__PURE__*/_jsx(DeepMode,{selectedFilters:selectedFilters,handleCheckboxChange:handleCheckboxChange,selectedTelNumber:selectedTelNumber,setSelectedTelNumber:setSelectedTelNumber})]}),/*#__PURE__*/_jsx(\"label\",{className:\"default-label\",children:\"Comments:\"}),/*#__PURE__*/_jsx(TextField,{label:\"Any additional information\",variant:\"outlined\",value:comments,onChange:e=>setComments(e.target.value),fullWidth:true,className:\"input-field\",size:\"small\"}),/*#__PURE__*/_jsx(\"div\",{className:\"group-container\",children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:abortObservation,onChange:e=>setAbortObservation(e.target.checked),color:\"primary\"}),style:{fontWeight:'bold'},label:/*#__PURE__*/_jsx(\"span\",{className:\"bold-label\",children:\"Abort Current Observation\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse-toggle\",onClick:toggleDetailCollapse,children:[isDetailCollapsed?/*#__PURE__*/_jsx(ExpandMoreIcon,{}):/*#__PURE__*/_jsx(ExpandLessIcon,{}),/*#__PURE__*/_jsx(\"span\",{className:\"collapse-text\",children:isDetailCollapsed?'Show Detailed Settings':'Hide Detailed Settings'})]}),!isDetailCollapsed&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(DetailedSettings,{detailedSettings:detailedSettings,setDetailedSettings:setDetailedSettings,exposure:exposure,setExposure:setExposure})}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"contained\",color:\"primary\",className:\"submit-button\",onClick:toggleDialog,children:\"Submit\"})]}),/*#__PURE__*/_jsxs(Dialog,{open:isDialogOpen,onClose:toggleDialog,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Confirm Submission\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Target:\"}),\" \",target]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"R.A.:\"}),\" \",ra]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dec.:\"}),\" \",dec]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Exposure:\"}),\" \",exposure,\" seconds\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ObsMode:\"}),\" \",obsmode,\" \",obsmode===\"Spec\"&&`(${selectedSpecFile})`,obsmode===\"Deep\"&&`(Filters: ${selectedFilters.join(\", \")} | Telescopes: ${selectedTelNumber})`]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Comments:\"}),\" \",comments]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Abort Current Observation:\"}),\" \",abortObservation?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Single Frame Exposure:\"}),\" \",detailedSettings.singleFrameExposure,\" seconds\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"# of Images:\"}),\" \",detailedSettings.imageCount]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Priority:\"}),\" \",detailedSettings.priority]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gain:\"}),\" \",detailedSettings.gain]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Binning:\"}),\" \",detailedSettings.binning]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Observation Start Time:\"}),\" \",detailedSettings.obsStartTime]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:toggleDialog,color:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,variant:\"contained\",color:\"primary\",disabled:isLoading,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{size:24,color:\"inherit\"}):'Confirm'})]})]}),staraltData&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px',width:'100%',height:'400px'},children:/*#__PURE__*/_jsx(\"canvas\",{ref:staraltChartRef,style:{width:'100%',height:'100%'}})}),isLoading&&/*#__PURE__*/_jsx(Snackbar,{open:true,children:/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Sending email... Please wait.\"})}),successMessage&&/*#__PURE__*/_jsx(Snackbar,{open:true,autoHideDuration:6000,onClose:()=>setSuccessMessage(''),children:/*#__PURE__*/_jsx(Alert,{severity:\"success\",onClose:()=>setSuccessMessage(''),children:successMessage})}),error&&/*#__PURE__*/_jsx(Snackbar,{open:true,autoHideDuration:6000,onClose:()=>setError(''),children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",onClose:()=>setError(''),children:error})})]});}export default TargetForm;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Autocomplete","Alert","TextField","Button","RadioGroup","FormControlLabel","Radio","Checkbox","Dialog","DialogTitle","DialogContent","DialogActions","Snackbar","CircularProgress","Chart","ChartJS","LinearScale","Title","Tooltip","ScatterController","LineController","LineElement","PointElement","CategoryScale","TimeScale","Legend","annotationPlugin","ExpandMoreIcon","ExpandLessIcon","SpecMode","DeepMode","DetailedSettings","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","TargetForm","targets","setTargets","target","setTarget","ra","setRa","dec","setDec","exposure","setExposure","obsmode","setObsmode","comments","setComments","abortObservation","setAbortObservation","wavelengths","setWavelengths","filters","setFilters","specFileOptions","setSpecFileOptions","selectedSpecFile","setSelectedSpecFile","selectedFilters","setSelectedFilters","selectedTelNumber","setSelectedTelNumber","staraltData","setStaraltData","isCustomTarget","setIsCustomTarget","isCollapsed","setIsCollapsed","isDetailCollapsed","setIsDetailCollapsed","isDialogOpen","setIsDialogOpen","isLoading","setIsLoading","error","setError","successMessage","setSuccessMessage","detailedSettings","setDetailedSettings","singleFrameExposure","imageCount","priority","gain","binning","obsStartTime","chartRef","staraltChartRef","staraltChartInstanceRef","get","then","response","data","catch","console","raNum","parseFloat","decNum","isNaN","query","encodeURIComponent","fetch","json","log","current","objname","target_times","target_alts","moon_times","moon_alts","sun_times","sun_alts","color_target","tonight","target_minalt","target_minmoonsep","targetData","map","t","i","x","Date","y","moonData","sunData","mappedColorTarget","c","sunsetNight","sunset_night","sunriseNight","sunrise_night","sunsetCivil","sunset_civil","sunriseCivil","sunrise_civil","targetDataset","label","pointBackgroundColor","borderColor","showLine","pointRadius","moonDataset","backgroundColor","sunDataset","annotations","nightStartLine","type","xMin","getTime","xMax","borderWidth","enabled","content","position","yAdjust","nightEndLine","nightBox","yMin","yMax","drawTime","civilBox","minAltFill","font","weight","size","color","criteriaText","xValue","yValue","textAlign","_chart","chart","datasets","options","plugins","title","text","annotation","update","ctx","getContext","responsive","maintainAspectRatio","layout","padding","scales","time","unit","display","min","max","legend","labels","boxWidth","boxHeight","tooltip","mode","intersect","interaction","wavelengthChart","getChart","id","beforeDraw","xScale","forEach","wav","getPixelForValue","fillStyle","fillRect","chartArea","top","bottom","_wavelengthChart","destroy","handleSubmit","e","preventDefault","post","handleInputChange","event","value","selectedTarget","find","name","handleExposureChange","newExposure","newSingleFrameExposure","prev","handleBlur","trimmedExposure","replace","handleCheckboxChange","filter","includes","item","toggleCollapse","toggleDetailCollapse","toggleDialog","className","children","onSubmit","getOptionLabel","option","inputValue","onInputChange","renderInput","params","variant","fullWidth","freeSolo","onChange","disabled","onBlur","inputProps","step","style","justifyContent","row","control","onClick","checked","fontWeight","open","onClose","join","marginTop","width","height","ref","severity","autoHideDuration"],"sources":["/Users/dtak/Research/ToO/frontend/src/components/TargetForm.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport '../styles/TargetForm.css';\nimport {\n    Autocomplete,\n    Alert,\n    TextField,\n    Button,\n    RadioGroup,\n    FormControlLabel,\n    Radio,\n    Checkbox,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Snackbar,\n    CircularProgress,\n} from '@mui/material';\n\nimport 'chartjs-adapter-date-fns';\n\nimport {\n    Chart as ChartJS,\n    LinearScale,\n    Title,\n    Tooltip,\n    ScatterController,\n    LineController,\n    LineElement,\n    PointElement,\n    CategoryScale,\n    TimeScale,\n    Legend\n} from 'chart.js';\nimport annotationPlugin from 'chartjs-plugin-annotation';\n\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\nimport SpecMode from './SpecMode';\nimport DeepMode from './DeepMode';\nimport DetailedSettings from './DetailedSettings';\n\nChartJS.register(\n    LinearScale,\n    Title,\n    Tooltip,\n    ScatterController,\n    LineController,\n    LineElement,\n    PointElement,\n    CategoryScale,\n    TimeScale,\n    Legend,\n    annotationPlugin\n);\n\nfunction TargetForm() {\n    const [targets, setTargets] = useState([]);\n    const [target, setTarget] = useState('');\n    const [ra, setRa] = useState('');\n    const [dec, setDec] = useState('');\n    const [exposure, setExposure] = useState('300');\n    const [obsmode, setObsmode] = useState('Spec'); \n    const [comments, setComments] = useState('');\n    const [abortObservation, setAbortObservation] = useState(false); // Track checkbox state\n\n    const [wavelengths, setWavelengths] = useState([]);\n    const [filters, setFilters] = useState([]);\n    const [specFileOptions, setSpecFileOptions] = useState(['specall.specmode']);\n    const [selectedSpecFile, setSelectedSpecFile] = useState('specall.specmode');\n    const [selectedFilters, setSelectedFilters] = useState(['g']); // For checkboxes\n    const [selectedTelNumber, setSelectedTelNumber] = useState(10); // For dropdown\n    const [staraltData, setStaraltData] = useState(null);\n\n    const [isCustomTarget, setIsCustomTarget] = useState(true);\n    const [isCollapsed, setIsCollapsed] = useState(true); // Collapse state for mode options\n    const [isDetailCollapsed, setIsDetailCollapsed] = useState(true); // Collapse state for mode options\n    const [isDialogOpen, setIsDialogOpen] = useState(false); // Dialog state\n    const [isLoading, setIsLoading] = useState(false);\n\n    const [error, setError] = useState('');\n    const [successMessage, setSuccessMessage] = useState('');\n\n    const [detailedSettings, setDetailedSettings] = useState({\n        singleFrameExposure: 60, // Default 60 seconds\n        imageCount: 5, // Default exposure time / 60\n        priority: 50, // Default 50\n        gain: 2750, // Default 2750\n        binning: 1, // Default 1\n        obsStartTime: '', // Default empty\n    });\n\n    const chartRef = useRef(null);\n    const staraltChartRef = useRef(null);\n    const staraltChartInstanceRef = useRef(null);\n    \n\n    useEffect(() => {\n        axios\n            .get('http://127.0.0.1:5000/api/targets')\n            .then((response) => setTargets(response.data))\n            .catch((error) => console.error('Error fetching targets:', error));\n    }, []);\n\n    useEffect(() => {\n        if (obsmode === 'Spec') {\n            axios\n                .get('http://127.0.0.1:5000/api/spec-options')\n                .then((response) => setSpecFileOptions(response.data))\n                .catch((error) => console.error('Error fetching spec file options:', error));\n        }\n    }, [obsmode]);\n\n    useEffect(() => {\n        if (selectedSpecFile) {\n            axios\n                .get(`http://127.0.0.1:5000/api/spec-file?file=${selectedSpecFile}`)\n                .then((response) => {\n                    setWavelengths(response.data.wavelengths);\n                    setFilters(response.data.filters);\n                })\n                .catch((error) => console.error('Error fetching spec file data:', error));\n        }\n    }, [selectedSpecFile]);\n\n\n    useEffect(() => {\n        const raNum = parseFloat(ra);\n        const decNum = parseFloat(dec);\n        if (!isNaN(raNum) && !isNaN(decNum)) {\n            const query = `ra=${raNum}&dec=${decNum}&objname=${encodeURIComponent(target)}&target_minalt=30&target_minmoonsep=40`;\n            fetch(`http://127.0.0.1:5000/api/staralt_data?${query}`)\n                .then((response) => response.json())\n                .then((data) => {\n                    setStaraltData(data);\n                    console.log(\"Received staralt data:\", data);\n                })\n                .catch((error) => console.error(\"Error fetching staralt data:\", error));\n        }\n    }, [ra, dec, target]);\n\n    useEffect(() => {\n        if (!staraltData || !staraltChartRef.current) return;\n\n        const {\n            objname,\n            target_times, target_alts,\n            moon_times, moon_alts,\n            sun_times, sun_alts,\n            color_target,\n            tonight,\n            target_minalt,\n            target_minmoonsep\n        } = staraltData;\n\n        // Convert times to Date objects\n        const targetData = target_times.map((t, i) => ({ x: new Date(t), y: target_alts[i] }));\n        const moonData = moon_times.map((t, i) => ({ x: new Date(t), y: moon_alts[i] }));\n        const sunData = sun_times.map((t, i) => ({ x: new Date(t), y: sun_alts[i] }));\n\n        // Map color codes to CSS colors\n        const mappedColorTarget = color_target.map(c => {\n            if (c === 'r') return 'red';\n            if (c === 'k') return 'black';\n            if (c === 'g') return 'green';\n            return c; // fallback if needed\n        });\n\n        // Convert night times to Date objects\n        const sunsetNight = new Date(tonight.sunset_night);\n        const sunriseNight = new Date(tonight.sunrise_night);\n        const sunsetCivil = new Date(tonight.sunset_civil);\n        const sunriseCivil = new Date(tonight.sunrise_civil);\n\n        const targetDataset = {\n            label: 'Target',\n            data: targetData,\n            pointBackgroundColor: mappedColorTarget,\n            borderColor: 'black',\n            showLine: false,\n            pointRadius: 2\n        };\n\n        const moonDataset = {\n            label: 'Moon',\n            data: moonData,\n            borderColor: 'blue',\n            backgroundColor: 'blue',\n            showLine: false,\n            pointRadius: 1\n        };\n\n        const sunDataset = {\n            label: 'Sun',\n            data: sunData,\n            borderColor: 'red',\n            backgroundColor: 'red',\n            showLine: false,\n            pointRadius: 1\n        };\n\n        const annotations = {\n            // Vertical line at night start\n            nightStartLine: {\n                type: 'line',\n                xMin: sunsetNight.getTime(),\n                xMax: sunsetNight.getTime(),\n                borderColor: 'black',\n                borderWidth: 1,\n                label: {\n                    enabled: true,\n                    content: 'Night start',\n                    position: 'start',\n                    yAdjust: -20\n                }\n            },\n            // Vertical line at night end\n            nightEndLine: {\n                type: 'line',\n                xMin: sunriseNight.getTime(),\n                xMax: sunriseNight.getTime(),\n                borderColor: 'black',\n                borderWidth: 1,\n                label: {\n                    enabled: true,\n                    content: 'Night end',\n                    position: 'start',\n                    yAdjust: -20\n                }\n            },\n            // Shaded nighttime region\n            nightBox: {\n                type: 'box',\n                xMin: sunsetNight.getTime(),\n                xMax: sunriseNight.getTime(),\n                yMin: 0,\n                yMax: 90,\n                backgroundColor: 'rgba(0,0,0,0.3)',\n                drawTime: 'beforeDatasetsDraw'\n            },\n            // Shaded civil twilight region\n            civilBox: {\n                type: 'box',\n                xMin: sunsetCivil.getTime(),\n                xMax: sunriseCivil.getTime(),\n                yMin: 0,\n                yMax: 90,\n                backgroundColor: 'rgba(0,0,0,0.1)',\n                drawTime: 'beforeDatasetsDraw'\n            },\n            // Fill below minimum altitude line (red zone)\n            minAltFill: {\n                type: 'box',\n                xMin: sunsetNight.getTime(),\n                xMax: sunriseNight.getTime(),\n                yMin: 0,\n                yMax: target_minalt,\n                backgroundColor: 'rgba(255,0,0,0.3)',\n                drawTime: 'beforeDatasetsDraw',\n                label: {\n                    enabled: true,\n                    content: 'Observation limit',\n                    position: 'center',\n                    yAdjust: -50,\n                    font: { weight: 'bold', size: 12 },\n                    color: 'darkred'\n                }\n            },\n            // Add a text annotation with criteria\n            criteriaText: {\n                type: 'label',\n                xValue: new Date(sunsetNight.getTime() - 0.7 * 3600000), // 0.7 hours before night start\n                yValue: 80,\n                backgroundColor: 'rgba(255,255,255,0.7)',\n                borderColor: 'black',\n                borderWidth: 1,\n                color: 'black',\n                font: { size: 10, weight: 'bold' },\n                textAlign: 'left',\n                content: [\n                    `Current observation criteria:`,\n                    `- Altitude > ${target_minalt} deg`,\n                    `- Moon separation > ${target_minmoonsep} deg`\n                ]\n            }\n        };\n\n        // If the chart instance exists, update data and annotations\n        if (staraltChartRef.current._chart) {\n            const chart = staraltChartRef.current._chart;\n            chart.data.datasets = [sunDataset, moonDataset, targetDataset];\n            chart.options.plugins.title.text = objname ? `Altitude of ${objname}` : 'Altitude of the Target';\n            chart.options.plugins.annotation.annotations = annotations;\n            chart.update();\n        } else {\n            // Otherwise, create a new chart\n            const ctx = staraltChartRef.current.getContext('2d');\n            const chart = new ChartJS(ctx, {\n                type: 'line',\n                data: {\n                    datasets: [sunDataset, moonDataset, targetDataset]\n                },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false, // Allow the chart to fill its container\n                    layout: {\n                        padding: 10\n                    },\n                    scales: {\n                        x: {\n                            type: 'time',\n                            time: {\n                                unit: 'hour'\n                            },\n                            title: {\n                                display: true,\n                                text: 'Time (UTC)'\n                            }\n                        },\n                        y: {\n                            title: {\n                                display: true,\n                                text: 'Altitude [deg]'\n                            },\n                            min: 0,\n                            max: 90\n                        }\n                    },\n                    plugins: {\n                        title: {\n                            display: true,\n                            text: objname ? `Altitude of ${objname}` : 'Altitude of the Target',\n                        },\n                        legend: {\n                            display: true,\n                            position: 'chartArea',\n                            labels: {\n                                boxWidth: 10,\n                                boxHeight: 10,\n                                padding: 0,\n                            }\n                        },\n                        tooltip: {\n                            mode: 'nearest',\n                            intersect: false\n                        },\n                        annotation: {\n                            annotations: annotations\n                        }\n                    },\n                    interaction: {\n                        mode: 'nearest',\n                        intersect: false\n                    }\n                }\n            });\n            staraltChartRef.current._chart = chart;\n        }\n    }, [staraltData]);\n\n    useEffect(() => {\n        if (!chartRef.current) return;\n\n        const ctx = chartRef.current.getContext('2d');\n        let wavelengthChart = ChartJS.getChart(ctx);\n\n        if (!wavelengthChart) {\n            wavelengthChart = new ChartJS(ctx, {\n                type: 'scatter',\n                data: { labels: [''], datasets: [] },\n                options: {\n                    responsive: true,\n                    maintainAspectRatio: false,\n                    scales: {\n                        x: { type: 'linear', min: 3500, max: 9500, title: { display: false } },\n                        y: { display: false },\n                    },\n                    plugins: { legend: { display: false } },\n                },\n                plugins: [\n                    {\n                        id: 'customSpans',\n                        beforeDraw: (chart) => {\n                            const ctx = chart.ctx;\n                            const xScale = chart.scales.x;\n                            wavelengths.forEach((wav) => {\n                                const xMin = xScale.getPixelForValue((wav - 12.5) * 10);\n                                const xMax = xScale.getPixelForValue((wav + 12.5) * 10);\n                                ctx.fillStyle = 'green';\n                                ctx.fillRect(\n                                    xMin,\n                                    chart.chartArea.top,\n                                    xMax - xMin,\n                                    chart.chartArea.bottom - chart.chartArea.top\n                                );\n                            });\n                        },\n                    },\n                ],\n            });\n        } else {\n            wavelengthChart.data.datasets = [];\n            wavelengthChart.update();\n        }\n\n        return () => wavelengthChart?.destroy();\n    }, [wavelengths, obsmode, isCollapsed]);\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        // Validate required fields\n        if (!target || !ra || !dec) {\n            setError('Target, R.A., and Dec. are required fields.');\n            return;\n        }\n\n        setIsLoading(true);\n        setError('');\n\n        try {\n            await axios.post('http://127.0.0.1:5000/api/send_email', {\n                target,\n                ra,\n                dec,\n                exposure,\n                obsmode,\n                comments,\n                abortObservation,\n                ...detailedSettings,\n                ...(obsmode === 'Deep' && { selectedFilters, selectedTelNumber }),\n                ...(obsmode === 'Spec' && { selectedSpecFile })\n            });\n            setSuccessMessage('Email sent successfully!');\n            setError('');\n            setIsDialogOpen(false); // Close dialog on success\n        } catch (error) {\n            setError('Failed to send the email. Please try again.');\n        } finally {\n            setIsLoading(false); // Stop loading\n        }\n    };\n\n    const handleInputChange = (event, value) => {\n        setTarget(value);\n        const selectedTarget = targets.find((t) => t.name === value);\n        if (selectedTarget) {\n            setRa(selectedTarget.ra);\n            setDec(selectedTarget.dec);\n            setIsCustomTarget(false);\n        } else {\n            setRa('');\n            setDec('');\n            setIsCustomTarget(true);\n        }\n    };\n\n    const handleExposureChange = (newExposure) => {\n        const { imageCount } = detailedSettings;\n        const newSingleFrameExposure = newExposure / imageCount;\n        setDetailedSettings((prev) => ({\n            ...prev,\n            singleFrameExposure: newSingleFrameExposure,\n        }));\n        setExposure(newExposure);\n    };\n\n    const handleBlur = () => {\n        // Remove leading zeros unless they are part of a decimal number\n        const trimmedExposure = exposure.replace(/^0+(?=\\d)/, '').replace(/^0*(\\.\\d+)/, '0$1');\n        setExposure(trimmedExposure);\n    };\n\n\n    const handleCheckboxChange = (filter) => {\n        setSelectedFilters((prev) =>\n            prev.includes(filter)\n                ? prev.filter((item) => item !== filter) // Remove filter if unchecked\n                : [...prev, filter] // Add filter if checked\n        );\n    };\n    \n    const toggleCollapse = () => {\n        setIsCollapsed(!isCollapsed);\n    };\n\n    const toggleDetailCollapse = () => {\n        setIsDetailCollapsed(!isDetailCollapsed);\n    };\n\n    const toggleDialog = () => {\n        setIsDialogOpen(!isDialogOpen);\n    };\n\n    return (\n        <div className=\"container\">\n            <form onSubmit={handleSubmit} className=\"form\">\n                <div className=\"group-container\">\n                    <label className=\"default-label\">Target:</label>\n                    <Autocomplete\n                        options={targets}\n                        getOptionLabel={(option) => option.name || ''}\n                        inputValue={target}\n                        onInputChange={handleInputChange}\n                        renderInput={(params) => (\n                            <TextField {...params} label=\"Target\" variant=\"outlined\" fullWidth size=\"small\" />\n                        )}\n                        freeSolo\n                        className=\"input-field\"\n                    />\n                </div>\n                <div className=\"group-container\">\n                    <label className=\"default-label\">R.A.:</label>\n                    <TextField\n                        label=\"hh:mm:ss or degrees\"\n                        variant=\"outlined\"\n                        value={ra}\n                        onChange={(e) => setRa(e.target.value)}\n                        fullWidth\n                        disabled={!isCustomTarget} \n                        className=\"input-field\"\n                        size=\"small\"\n                    />\n                </div>\n                <div className=\"group-container\">\n                    <label className=\"default-label\">Dec.:</label>\n                    <TextField\n                        label=\"dd:mm:ss or degrees\"\n                        variant=\"outlined\"\n                        value={dec}\n                        onChange={(e) => setDec(e.target.value)}\n                        fullWidth\n                        disabled={!isCustomTarget} \n                        className=\"input-field\"\n                        size=\"small\"\n                    />\n                </div>\n                <div className=\"group-container\">\n                    <label className=\"default-label\">Exposure:</label>\n                    <TextField\n                        label=\"seconds\"\n                        variant=\"outlined\"\n                        value={exposure}\n                        onChange={(e) => handleExposureChange(e.target.value || 0)}\n                        fullWidth\n                        className=\"input-field\"\n                        size=\"small\"\n                        type=\"number\"\n                        onBlur={handleBlur}\n                        inputProps={{\n                            step: 0.1, \n                        }}\n                    />\n                </div>\n                <div className=\"group-container\" style={{justifyContent: 'space-between'}}>\n                    <label className=\"default-label\">ObsMode:</label>\n                    <RadioGroup\n                        row\n                        value={obsmode}\n                        onChange={(e) => setObsmode(e.target.value)}\n                        className=\"radio-group\"\n                    >   \n                        <FormControlLabel\n                            value=\"Spec\"\n                            control={<Radio />}\n                            label=<span className=\"bold-label\">Spec</span>\n                        />\n                        <FormControlLabel\n                            value=\"Deep\"\n                            control={<Radio />}\n                            label=<span className=\"bold-label\">Deep</span>\n                        />\n                    </RadioGroup>\n                    <div className=\"collapse-toggle\" onClick={toggleCollapse}>\n                        {isCollapsed ? <ExpandMoreIcon /> : <ExpandLessIcon />}\n                        <span className=\"collapse-text\">\n                            {isCollapsed ? 'Expand' : 'Collapse'}\n                        </span>\n                    </div>\n                </div>\n\n                {!isCollapsed && (\n                    <>\n                    {obsmode === 'Spec' && (\n                        <SpecMode\n                            specFileOptions={specFileOptions}\n                            selectedSpecFile={selectedSpecFile}\n                            setSelectedSpecFile={setSelectedSpecFile}\n                            chartRef={chartRef}\n                            filters={filters}\n                        />\n                    )}\n                    {obsmode === 'Deep' && (\n                        <DeepMode\n                            selectedFilters={selectedFilters}\n                            handleCheckboxChange={handleCheckboxChange}\n                            selectedTelNumber={selectedTelNumber}\n                            setSelectedTelNumber={setSelectedTelNumber}\n                        />\n                    )}\n                    </>\n                )}\n                \n                <label className=\"default-label\">Comments:</label>\n                <TextField\n                        label=\"Any additional information\"\n                        variant=\"outlined\"\n                        value={comments}\n                        onChange={(e) => setComments(e.target.value)}\n                        fullWidth\n                        className=\"input-field\"\n                        size=\"small\"\n                />\n\n                <div className=\"group-container\">\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={abortObservation}\n                                onChange={(e) => setAbortObservation(e.target.checked)}\n                                color=\"primary\"\n                            />\n                        }\n                        style={{fontWeight:'bold'}}\n                        label={<span className=\"bold-label\">Abort Current Observation</span>}\n                    />\n                </div>\n\n                <div className=\"collapse-toggle\" onClick={toggleDetailCollapse}>\n                    {isDetailCollapsed ? <ExpandMoreIcon /> : <ExpandLessIcon />}\n                    <span className=\"collapse-text\">\n                        {isDetailCollapsed ? 'Show Detailed Settings' : 'Hide Detailed Settings'}\n                    </span>\n                </div>\n\n                {!isDetailCollapsed && (\n                    <>\n                        <DetailedSettings\n                            detailedSettings={detailedSettings}\n                            setDetailedSettings={setDetailedSettings}\n                            exposure={exposure}\n                            setExposure={setExposure}\n                        />\n                    </>\n                )}\n\n                <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className=\"submit-button\"\n                    onClick={toggleDialog}\n                >\n                    Submit\n                </Button>\n            </form>\n            <Dialog open={isDialogOpen} onClose={toggleDialog}>\n                <DialogTitle>Confirm Submission</DialogTitle>\n                <DialogContent>\n                    <p><strong>Target:</strong> {target}</p>\n                    <p><strong>R.A.:</strong> {ra}</p>\n                    <p><strong>Dec.:</strong> {dec}</p>\n                    <p><strong>Exposure:</strong> {exposure} seconds</p>\n                    <p>\n                        <strong>ObsMode:</strong> {obsmode}{\" \"}\n                        {obsmode === \"Spec\" && `(${selectedSpecFile})`}\n                        {obsmode === \"Deep\" && `(Filters: ${selectedFilters.join(\", \")} | Telescopes: ${selectedTelNumber})`}\n                    </p>\n                    <p><strong>Comments:</strong> {comments}</p>\n                    <p><strong>Abort Current Observation:</strong> {abortObservation ? 'Yes' : 'No'}</p>\n                    <p><strong>Single Frame Exposure:</strong> {detailedSettings.singleFrameExposure} seconds</p>\n                    <p><strong># of Images:</strong> {detailedSettings.imageCount}</p>\n                    <p><strong>Priority:</strong> {detailedSettings.priority}</p>\n                    <p><strong>Gain:</strong> {detailedSettings.gain}</p>\n                    <p><strong>Binning:</strong> {detailedSettings.binning}</p>\n                    <p><strong>Observation Start Time:</strong> {detailedSettings.obsStartTime}</p>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={toggleDialog} color=\"secondary\">\n                        Cancel\n                    </Button>\n                    <Button \n                        onClick={handleSubmit} \n                        variant=\"contained\" \n                        color=\"primary\"\n                        disabled={isLoading}\n                    >\n                        {isLoading ? <CircularProgress size={24} color=\"inherit\" /> : 'Confirm'}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            \n            {/* Display staralt plot */}\n            {staraltData && (\n                <div style={{ marginTop: '20px', width: '100%', height: '400px' }}>\n                    <canvas ref={staraltChartRef} style={{ width: '100%', height: '100%' }}></canvas>\n                </div>\n            )}\n\n\n            {/* Loading Message */}\n            {isLoading && (\n                <Snackbar open>\n                    <Alert severity=\"info\">\n                        Sending email... Please wait.\n                    </Alert>\n                </Snackbar>\n            )}\n\n\n            {/* Success Message */}\n            {successMessage && (\n                <Snackbar open autoHideDuration={6000} onClose={() => setSuccessMessage('')}>\n                    <Alert severity=\"success\" onClose={() => setSuccessMessage('')}>\n                        {successMessage}\n                    </Alert>\n                </Snackbar>\n            )}\n\n            {/* Error Message */}\n            {error && (\n                <Snackbar open autoHideDuration={6000} onClose={() => setError('')}>\n                    <Alert severity=\"error\" onClose={() => setError('')}>\n                        {error}\n                    </Alert>\n                </Snackbar>\n            )}\n\n\n        </div>\n    );\n}\n\nexport default TargetForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}