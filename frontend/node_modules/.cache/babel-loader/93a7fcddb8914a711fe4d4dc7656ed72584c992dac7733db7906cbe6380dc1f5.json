{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import CircleIcon from'@mui/icons-material/Circle';// Import Material UI icons\nimport'../styles/StatusTable.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function StatusTable(){const[tableData,setTableData]=useState([]);const[latestReport,setLatestReport]=useState({});const[loading,setLoading]=useState(true);// Fetch status data from the updated API endpoint\nuseEffect(()=>{axios.get('http://127.0.0.1:5000/api/status').then(response=>{setTableData(response.data.table);// Updated to match the API response structure\nsetLatestReport(response.data.latest_report);// Fetch the latest report info\nsetLoading(false);}).catch(error=>{console.error(\"Error fetching status data:\",error);setLoading(false);});},[]);const getStatusIcon=status=>{const iconStyle={width:\"15px\",height:\"15px\",margin:\"0\",padding:\"0\"};if(status===\"operational\")return/*#__PURE__*/_jsx(CircleIcon,{style:{...iconStyle,color:\"green\"}});if(status===\"maintanance\")return/*#__PURE__*/_jsx(CircleIcon,{style:{...iconStyle,color:\"yellow\"}});if(status===\"offline\")return/*#__PURE__*/_jsx(CircleIcon,{style:{...iconStyle,color:\"red\"}});return/*#__PURE__*/_jsx(CircleIcon,{style:{...iconStyle,color:\"gray\"}});};if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading data...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Status Table\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Telescope\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Mount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Focuser\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Filterwheel\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Camera\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableData.map((row,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.Telescope}),/*#__PURE__*/_jsx(\"td\",{children:getStatusIcon(row.Mount)}),/*#__PURE__*/_jsx(\"td\",{children:getStatusIcon(row.Focuser)}),/*#__PURE__*/_jsx(\"td\",{children:getStatusIcon(row.Filterwheel)}),/*#__PURE__*/_jsx(\"td\",{children:getStatusIcon(row.Camera)})]},index))})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"footer\",children:[\"Reported by \",latestReport.reported_by,\" on \",latestReport.timestamp]})]});}export default StatusTable;","map":{"version":3,"names":["React","useState","useEffect","axios","CircleIcon","jsx","_jsx","jsxs","_jsxs","StatusTable","tableData","setTableData","latestReport","setLatestReport","loading","setLoading","get","then","response","data","table","latest_report","catch","error","console","getStatusIcon","status","iconStyle","width","height","margin","padding","style","color","children","className","map","row","index","Telescope","Mount","Focuser","Filterwheel","Camera","reported_by","timestamp"],"sources":["/Users/dtak/Research/ToO/frontend/src/components/StatusTable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport CircleIcon from '@mui/icons-material/Circle'; // Import Material UI icons\nimport '../styles/StatusTable.css';\n\nfunction StatusTable() {\n    const [tableData, setTableData] = useState([]);\n    const [latestReport, setLatestReport] = useState({});\n    const [loading, setLoading] = useState(true);\n\n    // Fetch status data from the updated API endpoint\n    useEffect(() => {\n        axios.get('http://127.0.0.1:5000/api/status')\n            .then(response => {\n                setTableData(response.data.table); // Updated to match the API response structure\n                setLatestReport(response.data.latest_report); // Fetch the latest report info\n                setLoading(false);\n            })\n            .catch(error => {\n                console.error(\"Error fetching status data:\", error);\n                setLoading(false);\n            });\n    }, []);\n\n    const getStatusIcon = (status) => {\n        const iconStyle = { width: \"15px\", height: \"15px\", margin: \"0\", padding: \"0\" };\n\n        if (status === \"operational\") return <CircleIcon style={{ ...iconStyle, color: \"green\" }} />;\n        if (status === \"maintanance\") return <CircleIcon style={{...iconStyle, color: \"yellow\",}}/>;\n        if (status === \"offline\") return <CircleIcon style={{ ...iconStyle, color: \"red\" }} />;\n        return <CircleIcon style={{ ...iconStyle, color: \"gray\" }} />;\n    };\n\n\n    if (loading) {\n        return <p>Loading data...</p>;\n    }\n\n    return (\n        <div className=\"container\">\n            <h2>Status Table</h2>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Telescope</th>\n                        <th>Mount</th>\n                        <th>Focuser</th>\n                        <th>Filterwheel</th>\n                        <th>Camera</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {tableData.map((row, index) => (\n                        <tr key={index}>\n                            <td>{row.Telescope}</td>\n                            <td>{getStatusIcon(row.Mount)}</td>\n                            <td>{getStatusIcon(row.Focuser)}</td>\n                            <td>{getStatusIcon(row.Filterwheel)}</td>\n                            <td>{getStatusIcon(row.Camera)}</td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n            <p className=\"footer\">\n                Reported by {latestReport.reported_by} on {latestReport.timestamp}\n            </p>\n        </div>\n    );\n}\n\nexport default StatusTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}